<!DOCTYPE html>
<html lang="km">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>តេស្តវាយអក្សរ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(rgba(102, 126, 234, 0.85), rgba(118, 75, 162, 0.85)), 
                        url('ang.jpg') no-repeat center center fixed;
            background-size: cover;
            color: #333;
            line-height: 1.6;
            min-height: 100vh;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }
        
        /* Add an overlay to improve readability */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.2);
            z-index: -1;
        }
        
        .container {
            max-width: 900px;
            width: 100%;
            padding: 20px;
            z-index: 1;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            background: rgba(255, 255, 255, 0.95);
            color: #2c3e50;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            position: relative;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        
        h1 {
            margin-bottom: 10px;
            font-size: 2.5rem;
            background: linear-gradient(45deg, #3498db, #9b59b6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .language-switcher {
            position: absolute;
            top: 20px;
            right: 20px;
            display: flex;
            gap: 10px;
        }
        
        .lang-btn {
            background: rgba(52, 152, 219, 0.1);
            border: 2px solid #3498db;
            color: #3498db;
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .lang-btn.active {
            background: #3498db;
            color: white;
        }
        
        .lang-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 8px rgba(52, 152, 219, 0.3);
        }
        
        .setup-panel {
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        
        .options {
            display: flex;
            flex-wrap: wrap;
            gap: 30px;
            margin-bottom: 30px;
        }
        
        .option-group {
            flex: 1;
            min-width: 250px;
        }
        
        .option-group h3 {
            margin-bottom: 15px;
            color: #2c3e50;
            font-size: 1.3rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .option-group h3 i {
            color: #3498db;
        }
        
        .btn-group {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
        }
        
        button {
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .level-btn {
            background-color: #ecf0f1;
            color: #2c3e50;
            flex: 1;
            min-width: 120px;
        }
        
        .level-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 8px rgba(0, 0, 0, 0.15);
        }
        
        .level-btn.active {
            background: linear-gradient(45deg, #3498db, #2980b9);
            color: white;
        }
        
        .time-btn {
            background-color: #ecf0f1;
            color: #2c3e50;
            flex: 1;
            min-width: 100px;
        }
        
        .time-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 8px rgba(0, 0, 0, 0.15);
        }
        
        .time-btn.active {
            background: linear-gradient(45deg, #e74c3c, #c0392b);
            color: white;
        }
        
        .language-btn {
            background-color: #ecf0f1;
            color: #2c3e50;
            flex: 1;
            min-width: 140px;
        }
        
        .language-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 8px rgba(0, 0, 0, 0.15);
        }
        
        .language-btn.active {
            background: linear-gradient(45deg, #2ecc71, #27ae60);
            color: white;
        }
        
        .start-btn {
            background: linear-gradient(45deg, #2ecc71, #27ae60);
            color: white;
            font-size: 1.2rem;
            padding: 15px 40px;
            display: block;
            margin: 0 auto;
            border-radius: 50px;
            box-shadow: 0 6px 15px rgba(46, 204, 113, 0.4);
        }
        
        .start-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(46, 204, 113, 0.5);
        }
        
        .typing-area {
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
            display: none;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        
        .timer {
            text-align: center;
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 25px;
            color: #e74c3c;
            background: rgba(231, 76, 60, 0.1);
            padding: 15px;
            border-radius: 10px;
            display: inline-block;
            width: 100%;
        }
        
        .words-display {
            background-color: #f8f9fa;
            padding: 25px;
            border-radius: 10px;
            margin-bottom: 25px;
            font-size: 1.3rem;
            line-height: 1.8;
            min-height: 180px;
            border: 2px solid #e9ecef;
            overflow-y: auto;
            max-height: 300px;
        }
        
        .input-area {
            width: 100%;
            padding: 20px;
            font-size: 1.2rem;
            border: 2px solid #ddd;
            border-radius: 10px;
            margin-bottom: 20px;
            transition: border-color 0.3s;
            resize: none;
        }
        
        .input-area:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2);
        }
        
        .results {
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            display: none;
            text-align: center;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        
        .results h2 {
            color: #2c3e50;
            margin-bottom: 25px;
            font-size: 2rem;
        }
        
        .stats {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            margin-bottom: 30px;
        }
        
        .stat-box {
            background: linear-gradient(135deg, #3498db, #9b59b6);
            color: white;
            padding: 25px 15px;
            border-radius: 10px;
            min-width: 180px;
            margin: 10px;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);
        }
        
        .stat-value {
            font-size: 2.5rem;
            font-weight: bold;
            margin: 10px 0;
        }
        
        .restart-btn {
            background: linear-gradient(45deg, #3498db, #2980b9);
            color: white;
            font-size: 1.1rem;
            padding: 15px 30px;
            border-radius: 50px;
            box-shadow: 0 6px 15px rgba(52, 152, 219, 0.4);
        }
        
        .restart-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(52, 152, 219, 0.5);
        }
        
        .highlight {
            background-color: #3498db;
            color: white;
            padding: 4px 8px;
            border-radius: 5px;
        }
        
        .correct {
            color: #27ae60;
        }
        
        .incorrect {
            color: #e74c3c;
            background-color: rgba(231, 76, 60, 0.1);
            padding: 2px 4px;
            border-radius: 3px;
        }
        
        .current-word {
            background-color: #3498db;
            color: white;
            padding: 4px 8px;
            border-radius: 5px;
            transition: all 0.3s ease;
        }
        
        .char-correct {
            color: #27ae60;
        }
        
        .char-incorrect {
            color: #e74c3c;
            text-decoration: underline;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .language-switcher {
                position: static;
                justify-content: center;
                margin-bottom: 15px;
            }
            
            .options {
                flex-direction: column;
                gap: 20px;
            }
            
            .option-group {
                min-width: 100%;
            }
            
            .btn-group {
                justify-content: center;
            }
            
            .stats {
                flex-direction: column;
                align-items: center;
            }
            
            .words-display {
                font-size: 1.1rem;
                padding: 15px;
            }
            
            .timer {
                font-size: 2rem;
                padding: 10px;
            }
            
            .input-area {
                padding: 15px;
                font-size: 1rem;
            }
            
            .setup-panel, .typing-area, .results {
                padding: 20px;
            }
        }
        
        @media (max-width: 480px) {
            h1 {
                font-size: 1.8rem;
            }
            
            .timer {
                font-size: 1.8rem;
            }
            
            .words-display {
                font-size: 1rem;
                min-height: 150px;
            }
            
            .stat-box {
                min-width: 140px;
                padding: 20px 10px;
            }
            
            .stat-value {
                font-size: 2rem;
            }
            
            .btn-group {
                gap: 8px;
            }
            
            button {
                padding: 10px 15px;
                font-size: 0.9rem;
            }
            
            .start-btn, .restart-btn {
                padding: 12px 25px;
                font-size: 1rem;
            }
        }
        
        .instructions {
            background: rgba(255, 255, 255, 0.8);
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            font-size: 0.9rem;
            color: #7f8c8d;
        }
        
        .progress-bar {
            height: 8px;
            background-color: #ecf0f1;
            border-radius: 4px;
            margin-bottom: 20px;
            overflow: hidden;
        }
        
        .progress {
            height: 100%;
            background: linear-gradient(45deg, #2ecc71, #27ae60);
            width: 0%;
            transition: width 0.3s;
        }
        
        .word-count {
            text-align: center;
            margin-bottom: 15px;
            color: #7f8c8d;
            font-size: 1rem;
        }
        
        .word-stats {
            display: flex;
            justify-content: space-around;
            margin-top: 15px;
        }
        
        .word-stat {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .word-stat-value {
            font-size: 1.5rem;
            font-weight: bold;
        }
        
        .word-stat-label {
            font-size: 0.9rem;
            color: #7f8c8d;
        }
        
        .correct-words {
            color: #27ae60;
        }
        
        .incorrect-words {
            color: #e74c3c;
        }
        
        .khmer-font {
            font-family: 'Khmer OS', 'Moul', 'Suwannaphum', sans-serif;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="language-switcher">
                <button class="lang-btn active" data-lang="km">ខ្មែរ</button>
                <button class="lang-btn" data-lang="en">English</button>
            </div>
            <h1><i class="fas fa-keyboard"></i> <span id="title">Nann Test Typing</span></h1>
            <p id="subtitle">សាកល្បងល្បឿននិងភាពត្រឹមត្រូវនៃការវាយអក្សររបស់អ្នក</p>
        </header>
        
        <div class="setup-panel" id="setupPanel">
            <div class="options">
                <div class="option-group">
                    <h3><i class="fas fa-signal"></i> <span id="levelLabel">កម្រិត</span></h3>
                    <div class="btn-group">
                        <button class="level-btn active" data-level="easy"><span id="easyLabel">ងាយស្រួល</span></button>
                        <button class="level-btn" data-level="medium"><span id="mediumLabel">មធ្យម</span></button>
                        <button class="level-btn" data-level="hard"><span id="hardLabel">ពិបាក</span></button>
                        <button class="level-btn" data-level="mixed"><span id="mixedLabel">ចម្រុះ</span></button>
                    </div>
                </div>
                
                <div class="option-group">
                    <h3><i class="fas fa-clock"></i> <span id="timeLabel">ពេលវេលា</span></h3>
                    <div class="btn-group">
                        <button class="time-btn active" data-time="1">1 <span id="minuteLabel">នាទី</span></button>
                        <button class="time-btn" data-time="3">3 <span id="minutesLabel">នាទី</span></button>
                        <button class="time-btn" data-time="5">5 <span id="minutes5Label">នាទី</span></button>
                        <button class="time-btn" data-time="10">10 <span id="minutes10Label">នាទី</span></button>
                    </div>
                </div>
                
                <div class="option-group">
                    <h3><i class="fas fa-globe"></i> <span id="testLanguageLabel">ភាសាតេស្ត</span></h3>
                    <div class="btn-group">
                        <button class="language-btn active" data-test-lang="english"><span id="englishLabel">អង់គ្លេស</span></button>
                        <button class="language-btn" data-test-lang="khmer"><span id="khmerLabel">ខ្មែរ</span></button>
                    </div>
                </div>
            </div>
            
            <div class="instructions">
                <p><i class="fas fa-info-circle"></i> <strong id="instructionTitle">ណែនាំ:</strong> <span id="instructionText">ជ្រើសរើសកម្រិតនិងពេលវេលា បន្ទាប់មកចុចចាប់ផ្តើម។ វាយពាក្យដែលអ្នកឃើញដោយប្រើប្រាស់ចន្លោះដើម្បីបន្តទៅពាក្យបន្ទាប់។</span></p>
            </div>
            
            <button class="start-btn" id="startBtn">
                <i class="fas fa-play"></i> <span id="startLabel">ចាប់ផ្តើម</span>
            </button>
        </div>
        
        <div class="typing-area" id="typingArea">
            <div class="timer" id="timer">01:00</div>
            <div class="progress-bar">
                <div class="progress" id="progress"></div>
            </div>
            <div class="word-count" id="wordCount"><span id="wordLabel">ពាក្យ</span>: <span id="currentWord">1</span> / <span id="totalWordsCount">0</span></div>
            <div class="word-stats">
                <div class="word-stat correct-words">
                    <div class="word-stat-value" id="correctWordsCount">0</div>
                    <div class="word-stat-label" id="correctWordsLabel">ពាក្យត្រឹមត្រូវ</div>
                </div>
                <div class="word-stat incorrect-words">
                    <div class="word-stat-value" id="incorrectWordsCount">0</div>
                    <div class="word-stat-label" id="incorrectWordsLabel">ពាក្យខុស</div>
                </div>
            </div>
            <div class="words-display khmer-font" id="wordsDisplay"></div>
            <textarea class="input-area khmer-font" id="inputArea" placeholder="វាយពាក្យនៅទីនេះ..." rows="4"></textarea>
        </div>
        
        <div class="results" id="results">
            <h2><i class="fas fa-chart-bar"></i> <span id="resultsLabel">លទ្ធផល</span></h2>
            <div class="stats">
                <div class="stat-box">
                    <div class="stat-label" id="speedLabel">ល្បឿនវាយ</div>
                    <div class="stat-value" id="wpm">0</div>
                    <div id="wpmUnit">ពាក្យ/នាទី</div>
                </div>
                <div class="stat-box">
                    <div class="stat-label" id="accuracyLabel">ភាពត្រឹមត្រូវ</div>
                    <div class="stat-value" id="accuracy">0%</div>
                </div>
                <div class="stat-box">
                    <div class="stat-label" id="totalWordsLabel">ពាក្យសរុប</div>
                    <div class="stat-value" id="totalWords">0</div>
                </div>
            </div>
            <div class="stats">
                <div class="stat-box">
                    <div class="stat-label" id="correctWordsResultLabel">ពាក្យត្រឹមត្រូវ</div>
                    <div class="stat-value" id="correctWordsResult">0</div>
                </div>
                <div class="stat-box">
                    <div class="stat-label" id="incorrectWordsResultLabel">ពាក្យខុស</div>
                    <div class="stat-value" id="incorrectWordsResult">0</div>
                </div>
            </div>
            <button class="restart-btn" id="restartBtn">
                <i class="fas fa-redo"></i> <span id="restartLabel">សាកល្បងម្តងទៀត</span>
            </button>
        </div>
    </div>

    <script>
        // ទិន្នន័យពាក្យតាមកម្រិត - ភាសាអង់គ្លេស
        const wordListsEnglish = {
            easy: [
                "the", "and", "for", "are", "but", "not", "you", "all", "can", "had", "was", "her", "one", "our", "out", "get", "has", "him", "his", "how", "man", "new", "now", "old", "see", "two", "way", "who", "boy", "did", "its", "let", "put", "say", "she", "too", "use", "that", "with", "have", "this", "will", "your", "from", "they", "know", "want", "been", "good", "much", "some", "time", "very", "when", "come", "here", "just", "like", "long", "make", "many", "over", "such", "take", "than", "them", "well", "were"
            ],
            medium: [
                "ability", "absence", "academy", "account", "accused", "achieve", "acquire", "address", "advance", "adverse", "advised", "adviser", "against", "airline", "airport", "alcohol", "alleged", "already", "analyst", "ancient", "another", "anxiety", "anxious", "anybody", "applied", "arrange", "arrival", "article", "assault", "assumed", "assured", "attempt", "attract", "auction", "average", "backing", "balance", "banking", "barrier", "battery", "bearing", "beating", "because", "bedroom", "believe", "beneath", "benefit", "besides", "between", "billion", "binding", "brother", "brought", "burning", "cabinet", "caliber", "calling", "capable", "capital", "captain", "caption", "capture", "careful", "carrier", "caution", "ceiling", "central", "centric", "century", "certain", "chamber", "channel", "chapter", "charity", "charlie", "charter", "checked", "chicken", "chronic", "circuit", "classes", "classic", "climate", "closing", "closure", "clothes", "collect", "college", "combine", "comfort", "command", "comment", "compact", "company", "compare", "compete", "complex", "concept", "concern", "concert", "conduct", "confirm", "connect", "consent", "consist", "contact", "contain", "content", "contest", "context", "control", "convert", "correct", "council", "counsel", "counter", "country", "crucial", "crystal", "culture", "current", "cutting", "dealing", "decided", "decline", "default", "defence", "deficit", "deliver", "density", "deposit", "desktop", "despite", "destroy", "develop", "devoted", "diamond", "digital", "discuss", "disease", "display", "dispute", "distant", "diverse", "divided", "drawing", "driving", "dynamic", "eastern", "economy", "edition", "elderly", "element", "engaged", "enhance", "essence", "evening", "evident", "exactly", "examine", "example", "excited", "exclude", "exhibit", "expense", "explain", "explore", "express", "extreme", "factory", "faculty", "failing", "failure", "fashion", "feature", "federal", "feeling", "fiction", "fifteen", "filling", "finance", "finding", "fishing", "fitness", "foreign", "forever", "formula", "fortune", "forward", "founder", "freedom", "further", "gallery", "gateway", "general", "genetic", "genuine", "gigabit", "greater", "hanging", "heading", "healthy", "hearing", "heavily", "helpful", "helping", "herself", "highway", "himself", "history", "holding", "holiday", "housing", "however", "hundred", "husband", "illegal", "illness", "imagine", "imaging", "improve", "include", "initial", "inquiry", "insight", "install", "instant", "instead", "intense", "interim", "involve", "jointly", "journal", "journey", "justice", "justify", "keeping", "killing", "kingdom", "kitchen", "knowing", "landing", "largely", "lasting", "leading", "learned", "leisure", "liberal", "liberty", "library", "license", "limited", "listing", "logical", "loyalty", "machine", "manager", "married", "massive", "maximum", "meaning", "measure", "medical", "meeting", "mention", "message", "million", "mineral", "minimal", "minimum", "missing", "mission", "mistake", "mixture", "monitor", "monthly", "morning", "musical", "mystery", "natural", "neither", "nervous", "network", "neutral", "notable", "nothing", "nowhere", "nuclear", "nursing", "obvious", "offense", "officer", "ongoing", "opening", "operate", "opinion", "optical", "organic", "outcome", "outdoor", "outline", "outside", "overall", "pacific", "package", "painted", "parking", "partial", "partner", "passage", "passing", "passion", "passive", "patient", "pattern", "payable", "payment", "penalty", "pending", "pension", "percent", "perfect", "perform", "perhaps", "phoenix", "picking", "picture", "pioneer", "plastic", "pointed", "popular", "portion", "poverty", "precise", "predict", "premier", "premium", "prepare", "present", "prevent", "primary", "printer", "privacy", "private", "problem", "proceed", "process", "produce", "product", "profile", "program", "project", "promise", "promote", "protect", "protein", "protest", "provide", "publish", "purpose", "pushing", "qualify", "quality", "quarter", "radical", "railway", "readily", "reading", "reality", "realize", "receipt", "receive", "recover", "reflect", "regular", "related", "release", "remains", "removal", "removed", "replace", "request", "require", "reserve", "resolve", "respect", "respond", "restore", "retired", "revenue", "reverse", "rollout", "routine", "running", "satisfy", "science", "section", "segment", "serious", "service", "serving", "session", "setting", "seventh", "several", "shortly", "showing", "silence", "silicon", "similar", "sitting", "sixteen", "skilled", "smoking", "society", "somehow", "someone", "speaker", "special", "species", "sponsor", "station", "storage", "strange", "stretch", "student", "studied", "subject", "succeed", "success", "suggest", "summary", "support", "suppose", "surely", "surface", "surgery", "surplus", "survive", "suspect", "sustain", "teacher", "telecom", "telling", "tension", "theatre", "therapy", "thereby", "thought", "through", "tobacco", "tonight", "totally", "touched", "towards", "traffic", "trouble", "turning", "typical", "uniform", "unknown", "unusual", "upgrade", "upscale", "utility", "variety", "various", "vehicle", "venture", "version", "veteran", "victory", "viewing", "village", "violent", "virtual", "visible", "waiting", "walking", "wanting", "warning", "warrant", "wearing", "weather", "webcast", "website", "wedding", "weekend", "welcome", "welfare", "western", "whereas", "whereby", "whether", "willing", "winning", "without", "witness", "working", "writing", "written"
            ],
            hard: [
                "aberration", "abhorrence", "abominable", "abrogation", "acclamation", "acclimatize", "accommodate", "accompanist", "accomplished", "accordionist", "accountancy", "accreditation", "acculturation", "acknowledgment", "acoustically", "acquaintance", "acquisition", "acrimonious", "adaptability", "additionally", "adjudication", "administer", "admonishment", "adolescence", "advantageous", "adventitious", "aesthetical", "affectionate", "affiliation", "affirmation", "agglomerate", "aggrandizement", "aggressively", "agricultural", "allegorical", "alliteration", "alphabetical", "altruistically", "amalgamation", "ambidextrous", "ambivalence", "amelioration", "anachronism", "analytically", "anesthetist", "annihilation", "anomalously", "antagonistic", "antechamber", "anthropology", "anticipatory", "antidote", "apologetically", "apostrophe", "apparatus", "appellation", "appendicitis", "appertaining", "apportionment", "appreciative", "apprehension", "apprenticeship", "approbation", "appropriately", "approximation", "archaeology", "archipelago", "aristocracy", "articulation", "artificially", "ascertainment", "aspiration", "assiduously", "assimilate", "astonishing", "astronomical", "asymmetrical", "atmosphere", "attentively", "attributable", "auspicious", "authoritative", "autobiography", "belligerent", "benevolence", "bewilderment", "bibliography", "bicentennial", "bifurcation", "biodegradable", "biographical", "breathtaking", "bureaucracy", "cacophony", "calamitous", "capricious", "catastrophe", "categorical", "cerebral", "characteristic", "circumlocution", "circumstance", "clairvoyant", "coalescence", "cognizant", "collaborate", "commemorate", "commensurate", "commiserate", "complementary", "concomitant", "condescending", "confectionery", "configuration", "conglomerate", "connoisseur", "conscientious", "consecutive", "consensus", "consequently", "conservatory", "considerable", "consistency", "constituency", "constitution", "contemporary", "contemptuous", "contiguous", "contingency", "continuation", "contradict", "contrariwise", "controversy", "convalescent", "convenience", "conventional", "conversant", "cooperative", "corroborate", "counterfeit", "courageous", "courteous", "culmination", "deleterious", "delineation", "demographic", "demonstrable", "denouement", "depreciation", "derogatory", "despicable", "destitute", "deteriorate", "determinate", "detrimental", "devastating", "dichotomy", "differential", "dilapidated", "diminutive", "disadvantage", "disagreeable", "disappearance", "disapproval", "disconcerting", "discourteous", "discrepancy", "discretion", "discriminate", "disingenuous", "disparaging", "disposition", "disseminate", "dissertation", "dissimilar", "distinction", "distinguish", "diversion", "doctrinaire", "documentary", "dogmatically", "domesticate", "dramatization", "ecclesiastical", "eccentricity", "economically", "editorialize", "effectually", "efficacious", "egalitarian", "egregious", "elaboration", "electricity", "elimination", "elliptical", "eloquence", "emancipate", "embarrassment", "emphatically", "encapsulate", "enchantment", "encumbrance", "endorsement", "energetically", "enforcement", "enhancement", "enlightenment", "entertainment", "enthusiastic", "entrepreneur", "environment", "ephemeral", "epistemology", "equanimity", "equilibrium", "equivalence", "equivocate", "eradicate", "erudition", "escalation", "especially", "essentially", "estimation", "euphemism", "evanescent", "eventuality", "exacerbate", "exaggerate", "exasperate", "exceptionally", "exclusively", "exemplary", "exhaustive", "exhilarate", "exonerate", "expedient", "expedition", "expenditure", "experiment", "explanation", "exploratory", "exponential", "extemporize", "extenuating", "extraneous", "extricate", "facetious", "facilitate", "fastidious", "feasibility", "felicitous", "foreclosure", "foreseeable", "forgiveness", "formidable", "forthcoming", "fortuitous", "fragmentary", "frustration", "functionary", "fundamental", "furthermore", "garrulous", "genealogy", "generalize", "generation", "gratuitous", "gregarious", "guarantee", "habitation", "hallucination", "haphazardly", "hierarchical", "hilarious", "hindrance", "historical", "horticulture", "hospitality", "humiliation", "hypothetical", "ideological", "idiosyncrasy", "ignominious", "illuminate", "illustrate", "imagination", "immediately", "immemorial", "immigration", "immoderate", "immovable", "impartial", "impediment", "imperative", "imperceptible", "impervious", "implication", "importunate", "impregnable", "impression", "improbable", "improvisation", "inadvertent", "inalienable", "inarticulate", "inauguration", "incarcerate", "incendiary", "incessantly", "incidentally", "inclination", "incoherent", "incomparable", "incompatible", "incompetent", "inconclusive", "incongruous", "inconsolable", "incontrovertible", "incorporate", "incorrigible", "incredulous", "incremental", "indefatigable", "indefinitely", "indelible", "indentation", "indifferent", "indigenous", "indigent", "indignation", "indiscreet", "indisposed", "indistinct", "individual", "indomitable", "indubitable", "industrious", "ineffable", "ineluctable", "inevitable", "inexorable", "inextricable", "infallible", "infatuation", "inference", "infinitely", "infinitesimal", "inflammatory", "influential", "informative", "infrastructure", "ingenuity", "ingratiate", "inhabitant", "inheritance", "inimical", "iniquitous", "initiative", "innocuous", "innovation", "innumerable", "inoculate", "inordinate", "insatiable", "inscrutable", "insensible", "insidious", "insinuate", "insipid", "insolvent", "insouciant", "inspiration", "instigation", "instinctive", "institution", "instruction", "instrumental", "insufferable", "insufficient", "insularity", "insurrection", "intangible", "integral", "integrity", "intellectual", "intelligence", "intelligible", "intemperate", "intercession", "interchange", "intercourse", "interdependence", "interject", "interlocutor", "interlude", "intermediary", "interminable", "intermittent", "interpolation", "interposition", "interpretation", "interrogate", "intersperse", "interstellar", "interstice", "intertwine", "intervene", "intractable", "intransigent", "intrepid", "intricate", "intriguing", "introduction", "introspection", "introvert", "intuition", "inundate", "invaluable", "invariably", "invective", "inveigle", "inventory", "inveterate", "invigorate", "invincible", "inviolable", "invocation", "involuntary", "iridescent", "irreconcilable", "irrefutable", "irrelevant", "irreparable", "irrepressible", "irresistible", "irresolute", "irreverent", "irrevocable", "jettison", "jocularity", "jurisdiction", "justification", "juxtaposition", "kaleidoscope", "kindergarten", "knowledgeable", "laboratory", "labyrinth", "laceration", "lachrymose", "lackadaisical", "lamentable", "languorous", "lascivious", "latitudinal", "laudatory", "legitimate", "lethargic", "lexicography", "libertarian", "licentious", "lighthearted", "likelihood", "limitation", "lineament", "linguistic", "litigation", "loquacious", "lucrative", "ludicrous", "lugubrious", "luminous", "magnanimous", "magnificent", "maintenance", "malfeasance", "malicious", "manageable", "mandatory", "manifestation", "manipulate", "marginalize", "marshmallow", "maturation", "meandering", "meaningful", "measurement", "mechanical", "medication", "melancholy", "memorandum", "menagerie", "mercenary", "meritorious", "metamorphosis", "metaphorical", "methodical", "meticulous", "microcosm", "millennium", "minimalist", "misanthrope", "mischievous", "miscellaneous", "misconstrue", "misdemeanor", "misfortune", "misinterpret", "misrepresent", "moderation", "modification", "momentous", "monotonous", "monstrosity", "moratorium", "multifarious", "multiplicity", "mundane", "municipal", "munificent", "mysterious", "narcissistic", "narrative", "nationality", "navigable", "necessary", "negligence", "negotiable", "neoclassical", "nevertheless", "nonchalant", "nondescript", "nonentity", "nonplussed", "nostalgia", "noteworthy", "notorious", "nourishment", "nuisance", "nullification", "numerous", "obfuscate", "objective", "obligatory", "oblique", "obliterate", "obnoxious", "obsequious", "observance", "obsolescent", "obstetrician", "obstinate", "obstreperous", "obtrusive", "obtuse", "obviate", "ocasionally", "oculist", "officious", "omnipotent", "omniscient", "onerous", "onomatopoeia", "opportunity", "opprobrium", "optimistic", "opulent", "orchestrate", "ordnance", "organize", "orientation", "ornamental", "orthodox", "oscillate", "ostensible", "ostentatious", "outlandish", "outrageous", "overbearing", "overwhelm", "pachyderm", "palatable", "paleontology", "palisade", "palliative", "palpable", "panacea", "panache", "pandemonium", "panegyric", "panorama", "paradigm", "paradoxical", "paragon", "parallel", "paralyze", "paramount", "paraphernalia", "paraphrase", "parasite", "parliament", "parochial", "parody", "parsimonious", "partiality", "participle", "particularly", "partisan", "passionate", "patriarch", "patrimony", "patronize", "peculiar", "pedagogue", "pedantic", "pedestrian", "pejorative", "penchant", "penitent", "pensive", "perceive", "peremptory", "perennial", "perfidious", "perfunctory", "peripheral", "permeable", "permissible", "pernicious", "perpendicular", "perpetrate", "perpetual", "perplex", "persecute", "persevere", "persistence", "personable", "perspective", "perspicacious", "persuasive", "pertinent", "perturb", "perusal", "pervasive", "pessimistic", "petulant", "phenomenon", "philanthropy", "philosophical", "phlegmatic", "picturesque", "pilgrimage", "pinnacle", "piquant", "piteous", "pittance", "placate", "placid", "plagiarism", "plaintive", "platitude", "plausible", "plebeian", "plenitude", "plethora", "poignant", "polarize", "politic", "polyglot", "pomposity", "ponderous", "portentous", "portrayal", "positively", "possessive", "posterity", "posthumous", "postulate", "potentate", "pragmatic", "precarious", "precedent", "precipice", "precipitate", "precocious", "predatory", "predicament", "predilection", "predispose", "preeminent", "preempt", "preference", "prejudice", "preliminary", "premonition", "preoccupation", "preponderance", "prerequisite", "prerogative", "prescient", "prescription", "presentiment", "prestige", "presumptuous", "pretentious", "prevalent", "prevaricate", "primitive", "pristine", "privation", "privilege", "proclivity", "procrastinate", "prodigal", "prodigious", "profanity", "profess", "proficient", "profligate", "profound", "profusion", "progeny", "prognosis", "prohibition", "projectile", "prolific", "prominent", "promiscuous", "promulgate", "propagate", "propensity", "prophecy", "propitious", "proponent", "propriety", "prosaic", "proscribe", "prosecute", "proselytize", "prosperous", "prostrate", "protagonist", "protean", "prototype", "protract", "proverbial", "provident", "provisional", "provocative", "proximity", "prudence", "pseudonym", "psychology", "pugnacious", "pulmonary", "punctilious", "pungent", "punitive", "purport", "purveyor", "pusillanimous", "putrefy", "pyrotechnics", "quagmire", "quandary", "quarantine", "quarrelsome", "quasi", "querulous", "quiescent", "quintessence", "quixotic", "quotidian", "radiance", "rambunctious", "ramification", "rancorous", "rapacious", "rapturous", "ratification", "rationale", "reactionary", "recalcitrant", "recapitulate", "receptive", "recessive", "reciprocal", "recitation", "reclamation", "reclusive", "reconcile", "recondite", "reconnaissance", "recumbent", "recuperate", "redolent", "redoubtable", "redundant", "refractory", "refurbish", "regardless", "regenerate", "regimentation", "rehabilitate", "reimburse", "reiterate", "rejuvenate", "relinquish", "reminiscent", "remonstrate", "renaissance", "renascence", "rendezvous", "renunciation", "reparation", "repercussion", "repertoire", "replenish", "reprehensible", "reprieve", "reprimand", "reproach", "reprobate", "repudiate", "repugnant", "requisite", "rescind", "reserved", "resilient", "resolute", "resonant", "resplendent", "restitution", "restive", "resurgence", "resuscitate", "retaliate", "retention", "reticent", "retinue", "retraction", "retroactive", "retrograde", "retrospect", "revelation", "reverberate", "reverence", "rhetorical", "rigorous", "risible", "robust", "sagacious", "salient", "salubrious", "salutary", "sanctimonious", "sanguine", "sardonic", "sartorial", "satiate", "satirical", "saturate", "savoir faire", "scandalous", "scintilla", "scrupulous", "scrutinize", "secular", "sedentary", "sedulous", "seismic", "semblance", "sensuous", "sententious", "sentient", "sentiment", "separate", "sepulcher", "sequester", "serendipity", "serpentine", "servitude", "similitude", "simplistic", "skeptical", "soliloquy", "solitude", "sophisticated", "soporific", "sovereign", "spasmodic", "specimen", "specious", "spectrum", "speculative", "spontaneous", "sporadic", "squalid", "stagnant", "stalwart", "stentorian", "stereotype", "stipulate", "stratagem", "strident", "stringent", "stupefy", "stygian", "suave", "subjective", "sublime", "subordinate", "subsequent", "subservient", "subsidiary", "substantial", "substantiate", "subterfuge", "subtlety", "subversive", "successive", "succinct", "succulent", "suffrage", "suggestible", "sully", "sumptuous", "supercilious", "superficial", "superfluous", "superlative", "supersede", "supplant", "supple", "supplicate", "surfeit", "surmise", "surmount", "surpass", "surreal", "surreptitious", "surrogate", "surveillance", "suspicious", "sycophant", "syllogism", "symmetrical", "synchronous", "synonymous", "taciturn", "tactile", "tangential", "tangible", "tantalize", "tedious", "temerity", "temperance", "tempestuous", "tenacious", "tendentious", "tenement", "tentative", "tenuous", "terminology", "terrestrial", "terse", "testimonial", "therapeutic", "thorough", "timorous", "tirade", "tolerate", "torpid", "tortuous", "tractable", "tranquil", "transcend", "transcribe", "transfigure", "transgress", "transient", "transitory", "translucent", "transmute", "transpire", "traverse", "tremulous", "trenchant", "trepidation", "tribulation", "trivial", "truculent", "tumultuous", "turbulent", "turpitude", "ubiquitous", "ulterior", "ultimate", "ultimatum", "umbrage", "unanimous", "unassailable", "unassuming", "unbridled", "uncanny", "unconscionable", "uncouth", "undermine", "underscore", "undulate", "unearth", "unequivocal", "unfathomable", "unfettered", "ungainly", "unicity", "unilateral", "unimpeachable", "uninhibited", "unique", "universal", "unkempt", "unmitigated", "unobtrusive", "unprecedented", "unpretentious", "unravel", "unrequited", "unruly", "unscathed", "unseemly", "unsolicited", "unsophisticated", "untenable", "untoward", "unwieldy", "unwitting", "upbraid", "uproarious", "urbane", "usurp", "utilitarian", "utopia", "vacillate", "vacuous", "vagary", "valedictory", "validate", "vapid", "variegated", "vehement", "vendetta", "veneer", "venerable", "venerate", "venial", "veracity", "verbose", "verdant", "verisimilitude", "veritable", "vernacular", "versatile", "vestige", "vexation", "vicarious", "vicissitude", "vigilant", "vignette", "vilify", "vindicate", "vindictive", "virtuoso", "virulent", "visceral", "viscous", "vitiate", "vitriolic", "vivacious", "vociferous", "volatile", "volition", "voluble", "voluminous", "voracious", "vortex", "vulnerable", "wanton", "warranty", "wary", "whimsical", "wistful", "withering", "wont", "worldly", "wretched", "xenophobia", "yoke", "zealot", "zenith", "zephyr"
            ]
        };

        // បង្កើតពាក្យសម្រាប់កម្រិតចម្រុះ
        wordListsEnglish.mixed = [...wordListsEnglish.easy, ...wordListsEnglish.medium];

        // ទិន្នន័យពាក្យតាមកម្រិត - ភាសាខ្មែរ
        const wordListsKhmer = {
            easy: [
                "ក", "ខ", "គ", "ឃ", "ង", "ច", "ឆ", "ជ", "ឈ", "ញ", "ដ", "ឋ", "ឌ", "ឍ", "ណ", "ត", "ថ", "ទ", "ធ", "ន", "ប", "ផ", "ព", "ភ", "ម", "យ", "រ", "ល", "វ", "ស", "ហ", "ឡ", "អ",
                "កា", "កិ", "កី", "កឹ", "កឺ", "កុ", "កូ", "កួ", "កើ", "កឿ", "កៀ", "កេ", "កែ", "កៃ", "កោ", "កៅ", "កំ", "កាំ", "កះ",
                "មនុស្ស", "សត្វ", "ផ្កា", "ឈើ", "ទឹក", "ភ្លើង", "ដី", "ខ្យល់", "ពេល", "ថ្ងៃ", "យប់", "ខែ", "ឆ្នាំ", "រដូវ", "អាកាស", "ផ្ទះ", "សាលា", "វត្ត", "ផ្សារ", "ផ្លូវ"
            ],
            medium: [
                "ការងារ", "ការសិក្សា", "ការរស់នៅ", "ការប្រកួត", "ការប្រកាស", "ការប្រជុំ", "ការប្រតិបត្តិ", "ការប្រយុទ្ធ", "ការប្រាសាទ", "ការពិភាក្សា", "ការពិសេស", "ការពេញនិយម", "ការភ្លេច", "ការមកដល់", "ការយល់ដឹង", "ការយល់ឃើញ", "ការយល់ស្រប", "ការរីករាយ", "ការរីកលូតលាស់", "ការរួមផ្សំ", "ការរួមភាព", "ការលក់", "ការលេង", "ការលះបង់", "ការវាយតម្លៃ", "ការវិវត្តន៍", "ការសង្គ្រោះ", "ការសម្រាក", "ការសម្រេច", "ការសម្អាត", "ការសាងសង់", "ការសិក្សា", "ការស្តាប់", "ការស្វែងរក", "ការសំខាន់", "ការអនុវត្ត", "ការអាន", "ការអាយ", "ការអត់ធ្មត់", "ការអភិវឌ្ឍ", "ការអាស្រ័យ", "ការអារម្មណ៍", "ការអាល", "ការអូសទាញ", "ការអ៊ូអែរ", "ការអ្នក", "ការអ្វី", "ការអ្វីដែល", "ការអ្វីគ្រប់យ៉ាង", "ការអ្វីមួយ", "ការអ្វីផ្សេង", "ការអ្វីពិត", "ការអ្វីរួម", "ការអ្វីសំខាន់", "ការអ្វីស្រដៀង", "ការអ្វីថ្មី", "ការអ្វីពិសេស", "ការអ្វីចម្បង", "ការអ្វីដំបូង", "ការអ្វីចុងក្រោយ", "ការអ្វីក្នុង", "ការអ្វីក្រៅ", "ការអ្វីខាងលើ", "ការអ្វីខាងក្រោម", "ការអ្វីឆ្វេង", "ការអ្វីស្តាំ", "ការអ្វីមុខ", "ការអ្វីក្រោយ", "ការអ្វីជិត", "ការអ្វីឆ្ងាយ", "ការអ្វីធំ", "ការអ្វីតូច", "ការអ្វីវែង", "ការអ្វីខ្លី", "ការអ្វីធ្ងន់", "ការអ្វីស្រាល", "ការអ្វីលឿន", "ការអ្វីយឺត", "ការអ្វីក្តៅ", "ការអ្វីត្រជាក់", "ការអ្វីប្រៃ", "ការអ្វីផ្អែម", "ការអ្វីជូរ", "ការអ្វីហឹរ", "ការអ្វីល្ហ", "ការអ្វីស", "ការអ្វីខ្លា", "ការអ្វីឆ្កែ", "ការអ្វីមាន់", "ការអ្វីទា", "ការអ្វីត្រី", "ការអ្វីពស់", "ការអ្វីកង្កែប", "ការអ្វីសត្វ", "ការអ្វីដំណើរ", "ការអ្វីការងារ", "ការអ្វីសិក្សា", "ការអ្វីការរស់", "ការអ្វីជីវិត", "ការអ្វីសុភមង្គល", "ការអ្វីសេចក្តីស្លាប់", "ការអ្វីសេរីភាព", "ការអ្វីសន្តិភាព", "ការអ្វីស្នេហា", "ការអ្វីមិត្តភាព", "ការអ្វីគ្រួសារ", "ការអ្វីប្រទេស", "ការអ្វីជាតិ", "ការអ្វីព្រះ", "ការអ្វីពុទ្ធសាសនា", "ការអ្វីវិជ្ជា", "ការអ្វីបច្ចេកទេស", "ការអ្វីសិល្បៈ", "ការអ្វីគំនិត", "ការអ្វីអារម្មណ៍", "ការអ្វីចិត្ត", "ការអ្វីខួរក្បាល", "ការអ្វីដៃ", "ការអ្វីជើង", "ការអ្វីភ្នែក", "ការអ្វីត្រចៀក", "ការអ្វីច្រមុះ", "ការអ្វីមាត់", "ការអ្វីធ្មេញ", "ការអ្វីអណ្តាត", "ការអ្វីសក់", "ការអ្វីស្បែក", "ការអ្វីឈាម", "ការអ្វីឆ្អឹង", "ការអ្វីសាច់", "ការអ្វីបេះដូង", "ការអ្វីថ្លើម", "ការអ្វីពោះ", "ការអ្វីផ្លូវដៃ", "ការអ្វីផ្លូវជើង", "ការអ្វីផ្លូវចិត្ត", "ការអ្វីផ្លូវរបស់", "ការអ្វីផ្លូវរបរ", "ការអ្វីផ្លូវជីវិត", "ការអ្វីផ្លូវសន្តិភាព", "ការអ្វីផ្លូវស្នេហា"
            ],
            hard: [
                "ភាសាវិទ្យា", "ប្រវត្តិសាស្ត្រ", "រូបវិទ្យា", "គីមីវិទ្យា", "ជីវវិទ្យា", "គណិតវិទ្យា", "ភូមិវិទ្យា", "សាសនាវិទ្យា", "នយោបាយ", "សេដ្ឋកិច្ច", "សង្គមកិច្ច", "វប្បធម៌", "បដិវត្តន៍", "ប្រជាធិបតេយ្យ", "សាធារណរដ្ឋ", "រាជានិយម", "សង្គមនិយម", "លិទ្ធិប្រជាធិបតេយ្យ", "លិទ្ធិសង្គមនិយម", "លិទ្ធិផ្តាច់ការ", "លិទ្ធិសេរីនិយម", "លិទ្ធិជាតិនិយម", "លិទ្ធិអន្តរជាតិនិយម", "លិទ្ធិសន្តិភាព", "លិទ្ធិសង្គ្រោះ", "លិទ្ធិស្នេហា", "លិទ្ធិមិត្តភាព", "លិទ្ធិគ្រួសារ", "លិទ្ធិសាសនា", "លិទ្ធិពុទ្ធសាសនា", "លិទ្ធិគ្រិស្តសាសនា", "លិទ្ធិឥស្លាមសាសនា", "លិទ្ធិហិណ្ឌូសាសនា", "លិទ្ធិយូដាសាសនា", "លិទ្ធិស៊ីគ្កសាសនា", "លិទ្ធិតាវសាសនា", "លិទ្ធិកុនហ្វូស៊ី", "លិទ្ធិសាសនាផ្សេងៗ", "លិទ្ធិវិទ្យាសាស្ត្រ", "លិទ្ធិបច្ចេកទេស", "លិទ្ធិសិល្បៈ", "លិទ្ធិអក្សរសាស្ត្រ", "លិទ្ធិតន្ត្រី", "លិទ្ធិរូបភាព", "លិទ្ធិស្ថាបត្យកម្ម", "លិទ្ធិចម្លាក់", "លិទ្ធិគំនូរ", "លិទ្ធិរបាំ", "លិទ្ធិល្ខោន", "លិទ្ធិភាពយន្ត", "លិទ្ធិទូរទស្សន៍", "លិទ្ធិវិទ្យុ", "លិទ្ធិសារពត៌មាន", "លិទ្ធិអ៊ិនធឺណេត", "លិទ្ធិសង្គមអនឡាញ", "លិទ្ធិទំនាក់ទំនង", "លិទ្ធិគមនាគមន៍", "លិទ្ធិការងារ", "លិទ្ធិសិក្សា", "លិទ្ធិស្រាវជ្រាវ", "លិទ្ធិអភិវឌ្ឍន៍", "លិទ្ធិវិវត្តន៍", "លិទ្ធិប្រែក្លាយ", "លិទ្ធិកែប្រែ", "លិទ្ធិបង្កើត", "លិទ្ធិបំផ្លាញ", "លិទ្ធិសាងសង់", "លិទ្ធិរក្សា", "លិទ្ធិការពារ", "លិទ្ធិជួយ", "លិទ្ធិគាំទ្រ", "លិទ្ធិណែនាំ", "លិទ្ធិបង្រៀន", "លិទ្ធិរៀន", "លិទ្ធិស្តាប់", "លិទ្ធិមើល", "លិទ្ធិអាន", "លិទ្ធិសរសេរ", "លិទ្ធិនិយាយ", "លិទ្ធិគិត", "លិទ្ធិយល់", "លិទ្ធិដឹង", "លិទ្ធិចងចាំ", "លិទ្ធិភ្លេច", "លិទ្ធិស្រមើលស្រមៃ", "លិទ្ធិសុបិន", "លិទ្ធិគោលបំណង", "លិទ្ធិផែនការ", "លិទ្ធិយុទ្ធសាស្ត្រ", "លិទ្ធិវិធីសាស្ត្រ", "លិទ្ធិគ្រប់គ្រង", "លិទ្ធិដឹកនាំ", "លិទ្ធិបញ្ជា", "លិទ្ធិប្រតិបត្តិ", "លិទ្ធិត្រួតពិនិត្យ", "លិទ្ធិវាយតម្លៃ", "លិទ្ធិវិភាគ", "លិទ្ធិសន្និដ្ឋាន", "លិទ្ធិសម្រេច", "លិទ្ធិអនុវត្ត", "លិទ្ធិពិសោធន៍", "លិទ្ធិស្រាវជ្រាវ", "លិទ្ធិរកឃើញ", "លិទ្ធិបង្កើត", "លិទ្ធិរកចំណង", "លិទ្ធិរកដំណោះស្រាយ", "លិទ្ធិដោះស្រាយ", "លិទ្ធិជម្រុញ", "លិទ្ធិជំរុញ", "លិទ្ធិលើកទឹកចិត្ត", "លិទ្ធិប្រាស្រ័យ", "លិទ្ធិទំនាក់ទំនង", "លិទ្ធិសម្របសម្រួល", "លិទ្ធិផ្សំ", "លិទ្ធិរួម", "លិ�្ធិចូលរួម", "លិទ្ធិចែករំលែក", "លិទ្ធិផ្លាស់ប្តូរ", "លិទ្ធិប្តូរ", "លិទ្ធិកែច្នៃ", "លិទ្ធិធ្វើអោយប្រសើរ", "លិទ្ធិធ្វើអោយល្អ", "លិទ្ធិធ្វើអោយស្អាត", "លិទ្ធិធ្វើអោយរីករាយ", "លិទ្ធិធ្វើអោយសប្បាយ", "លិទ្ធិធ្វើអោយសុខ", "លិទ្ធិធ្វើអោយមានសុភមង្គល", "លិទ្ធិធ្វើអោយមានសន្តិភាព", "លិទ្ធិធ្វើអោយមានសេរីភាព", "លិទ្ធិធ្វើអោយមានស្នេហា", "លិទ្ធិធ្វើអោយមានមិត្តភាព", "លិទ្ធិធ្វើអោយមានគ្រួសារ", "លិទ្ធិធ្វើអោយមានប្រទេស", "លិទ្ធិធ្វើអោយមានជាតិ", "លិទ្ធិធ្វើអោយមានព្រះ", "លិទ្ធិធ្វើអោយមានពុទ្ធសាសនា", "លិទ្ធិធ្វើអោយមានវិជ្ជា", "លិទ្ធិធ្វើអោយមានបច្ចេកទេស", "លិទ្ធិធ្វើអោយមានសិល្បៈ", "លិទ្ធិធ្វើអោយមានគំនិត", "លិទ្ធិធ្វើអោយមានអារម្មណ៍", "លិទ្ធិធ្វើអោយមានចិត្ត", "លិទ្ធិធ្វើអោយមានខួរក្បាល", "លិទ្ធិធ្វើអោយមានដៃ", "លិទ្ធិធ្វើអោយមានជើង", "លិទ្ធិធ្វើអោយមានភ្នែក", "លិទ្ធិធ្វើអោយមានត្រចៀក", "លិទ្ធិធ្វើអោយមានច្រមុះ", "លិទ្ធិធ្វើអោយមានមាត់", "លិទ្ធិធ្វើអោយមានធ្មេញ", "លិទ្ធិធ្វើអោយមានអណ្តាត", "លិទ្ធិធ្វើអោយមានសក់", "លិទ្ធិធ្វើអោយមានស្បែក", "លិទ្ធិធ្វើអោយមានឈាម", "លិទ្ធិធ្វើអោយមានឆ្អឹង", "លិទ្ធិធ្វើអោយមានសាច់", "លិទ្ធិធ្វើអោយមានបេះដូង", "លិទ្ធិធ្វើអោយមានថ្លើម", "លិទ្ធិធ្វើអោយមានពោះ", "លិទ្ធិធ្វើអោយមានផ្លូវដៃ", "លិទ្ធិធ្វើអោយមានផ្លូវជើង", "លិទ្ធិធ្វើអោយមានផ្លូវចិត្ត", "លិទ្ធិធ្វើអោយមានផ្លូវរបស់", "លិទ្ធិធ្វើអោយមានផ្លូវរបរ", "លិទ្ធិធ្វើអោយមានផ្លូវជីវិត", "លិទ្ធិធ្វើអោយមានផ្លូវសន្តិភាព", "លិទ្ធិធ្វើអោយមានផ្លូវស្នេហា"
            ]
        };

        // បង្កើតពាក្យសម្រាប់កម្រិតចម្រុះ
        wordListsKhmer.mixed = [...wordListsKhmer.easy, ...wordListsKhmer.medium];

        // អថេរសកល
        let selectedLevel = 'easy';
        let selectedTime = 1;
        let selectedTestLanguage = 'english';
        let timer;
        let timeLeft;
        let isTyping = false;
        let startTime;
        let words = [];
        let currentWordIndex = 0;
        let correctChars = 0;
        let totalChars = 0;
        let totalTime = 0;
        let currentLanguage = 'km';
        let correctWords = 0;
        let incorrectWords = 0;

        // ធាតុ DOM
        const setupPanel = document.getElementById('setupPanel');
        const typingArea = document.getElementById('typingArea');
        const results = document.getElementById('results');
        const timerDisplay = document.getElementById('timer');
        const progressBar = document.getElementById('progress');
        const wordsDisplay = document.getElementById('wordsDisplay');
        const inputArea = document.getElementById('inputArea');
        const wpmDisplay = document.getElementById('wpm');
        const accuracyDisplay = document.getElementById('accuracy');
        const totalWordsDisplay = document.getElementById('totalWords');
        const startBtn = document.getElementById('startBtn');
        const restartBtn = document.getElementById('restartBtn');
        const currentWordDisplay = document.getElementById('currentWord');
        const totalWordsCountDisplay = document.getElementById('totalWordsCount');
        const langButtons = document.querySelectorAll('.lang-btn');
        const testLanguageButtons = document.querySelectorAll('.language-btn');
        const correctWordsCountDisplay = document.getElementById('correctWordsCount');
        const incorrectWordsCountDisplay = document.getElementById('incorrectWordsCount');
        const correctWordsResultDisplay = document.getElementById('correctWordsResult');
        const incorrectWordsResultDisplay = document.getElementById('incorrectWordsResult');

        // បកប្រែភាសា
        const translations = {
            km: {
                title: "ណាន់តេស្តវាយអក្សរ - ខ្មែរ/អង់គ្លេស",
                subtitle: "សាកល្បងល្បឿននិងភាពត្រឹមត្រូវនៃការវាយអក្សររបស់អ្នក",
                levelLabel: "កម្រិត",
                easyLabel: "ងាយស្រួល",
                mediumLabel: "មធ្យម",
                hardLabel: "ពិបាក",
                mixedLabel: "ចម្រុះ",
                timeLabel: "ពេលវេលា",
                minuteLabel: "នាទី",
                minutesLabel: "នាទី",
                minutes5Label: "នាទី",
                minutes10Label: "នាទី",
                testLanguageLabel: "ភាសាតេស្ត",
                englishLabel: "អង់គ្លេស",
                khmerLabel: "ខ្មែរ",
                instructionTitle: "ណែនាំ:",
                instructionText: "ជ្រើសរើសកម្រិតនិងពេលវេលា បន្ទាប់មកចុចចាប់ផ្តើម។ វាយពាក្យដែលអ្នកឃើញដោយប្រើប្រាស់ចន្លោះដើម្បីបន្តទៅពាក្យបន្ទាប់។",
                startLabel: "ចាប់ផ្តើម",
                wordLabel: "ពាក្យ",
                resultsLabel: "លទ្ធផល",
                speedLabel: "ល្បឿនវាយ",
                wpmUnit: "ពាក្យ/នាទី",
                accuracyLabel: "ភាពត្រឹមត្រូវ",
                totalWordsLabel: "ពាក្យសរុប",
                restartLabel: "សាកល្បងម្តងទៀត",
                inputPlaceholder: "វាយពាក្យនៅទីនេះ...",
                correctWordsLabel: "ពាក្យត្រឹមត្រូវ",
                incorrectWordsLabel: "ពាក្យខុស",
                correctWordsResultLabel: "ពាក្យត្រឹមត្រូវ",
                incorrectWordsResultLabel: "ពាក្យខុស"
            },
            en: {
                title: "Nann Typing Test - Khmer/English",
                subtitle: "Test your typing speed and accuracy",
                levelLabel: "Level",
                easyLabel: "Easy",
                mediumLabel: "Medium",
                hardLabel: "Hard",
                mixedLabel: "Mixed",
                timeLabel: "Time",
                minuteLabel: "Minute",
                minutesLabel: "Minutes",
                minutes5Label: "Minutes",
                minutes10Label: "Minutes",
                testLanguageLabel: "Test Language",
                englishLabel: "English",
                khmerLabel: "Khmer",
                instructionTitle: "Instructions:",
                instructionText: "Select a level and time, then click start. Type the words you see using space to move to the next word.",
                startLabel: "Start",
                wordLabel: "Words",
                resultsLabel: "Results",
                speedLabel: "Typing Speed",
                wpmUnit: "WPM",
                accuracyLabel: "Accuracy",
                totalWordsLabel: "Total Words",
                restartLabel: "Try Again",
                inputPlaceholder: "Type words here...",
                correctWordsLabel: "Correct Words",
                incorrectWordsLabel: "Incorrect Words",
                correctWordsResultLabel: "Correct Words",
                incorrectWordsResultLabel: "Incorrect Words"
            }
        };

        // ការកំណត់កម្រិត
        document.querySelectorAll('.level-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('.level-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                selectedLevel = btn.getAttribute('data-level');
            });
        });

        // ការកំណត់ពេលវេលា
        document.querySelectorAll('.time-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('.time-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                selectedTime = parseInt(btn.getAttribute('data-time'));
            });
        });

        // ការកំណត់ភាសាតេស្ត
        document.querySelectorAll('.language-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('.language-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                selectedTestLanguage = btn.getAttribute('data-test-lang');
            });
        });

        // ប៊ូតុងភាសា
        langButtons.forEach(btn => {
            btn.addEventListener('click', () => {
                langButtons.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                currentLanguage = btn.getAttribute('data-lang');
                updateLanguage();
            });
        });

        // ប៊ូតុងចាប់ផ្តើម
        startBtn.addEventListener('click', startTest);

        // ប៊ូតុងចាប់ផ្តើមឡើងវិញ
        restartBtn.addEventListener('click', () => {
            results.style.display = 'none';
            setupPanel.style.display = 'block';
            resetTest();
        });

        // ធ្វើបច្ចុប្បន្នភាពភាសា
        function updateLanguage() {
            document.getElementById('title').textContent = translations[currentLanguage].title;
            document.getElementById('subtitle').textContent = translations[currentLanguage].subtitle;
            document.getElementById('levelLabel').textContent = translations[currentLanguage].levelLabel;
            document.getElementById('easyLabel').textContent = translations[currentLanguage].easyLabel;
            document.getElementById('mediumLabel').textContent = translations[currentLanguage].mediumLabel;
            document.getElementById('hardLabel').textContent = translations[currentLanguage].hardLabel;
            document.getElementById('mixedLabel').textContent = translations[currentLanguage].mixedLabel;
            document.getElementById('timeLabel').textContent = translations[currentLanguage].timeLabel;
            document.getElementById('minuteLabel').textContent = translations[currentLanguage].minuteLabel;
            document.getElementById('minutesLabel').textContent = translations[currentLanguage].minutesLabel;
            document.getElementById('minutes5Label').textContent = translations[currentLanguage].minutes5Label;
            document.getElementById('minutes10Label').textContent = translations[currentLanguage].minutes10Label;
            document.getElementById('testLanguageLabel').textContent = translations[currentLanguage].testLanguageLabel;
            document.getElementById('englishLabel').textContent = translations[currentLanguage].englishLabel;
            document.getElementById('khmerLabel').textContent = translations[currentLanguage].khmerLabel;
            document.getElementById('instructionTitle').textContent = translations[currentLanguage].instructionTitle;
            document.getElementById('instructionText').textContent = translations[currentLanguage].instructionText;
            document.getElementById('startLabel').textContent = translations[currentLanguage].startLabel;
            document.getElementById('wordLabel').textContent = translations[currentLanguage].wordLabel;
            document.getElementById('resultsLabel').textContent = translations[currentLanguage].resultsLabel;
            document.getElementById('speedLabel').textContent = translations[currentLanguage].speedLabel;
            document.getElementById('wpmUnit').textContent = translations[currentLanguage].wpmUnit;
            document.getElementById('accuracyLabel').textContent = translations[currentLanguage].accuracyLabel;
            document.getElementById('totalWordsLabel').textContent = translations[currentLanguage].totalWordsLabel;
            document.getElementById('restartLabel').textContent = translations[currentLanguage].restartLabel;
            document.getElementById('inputArea').placeholder = translations[currentLanguage].inputPlaceholder;
            document.getElementById('correctWordsLabel').textContent = translations[currentLanguage].correctWordsLabel;
            document.getElementById('incorrectWordsLabel').textContent = translations[currentLanguage].incorrectWordsLabel;
            document.getElementById('correctWordsResultLabel').textContent = translations[currentLanguage].correctWordsResultLabel;
            document.getElementById('incorrectWordsResultLabel').textContent = translations[currentLanguage].incorrectWordsResultLabel;
        }

        // ចាប់ផ្តើមតេស្ត
        function startTest() {
            if (!selectedLevel || !selectedTime) {
                alert(currentLanguage === 'km' ? 'សូមជ្រើសរើសកម្រិតនិងពេលវេលា!' : 'Please select a level and time!');
                return;
            }

            setupPanel.style.display = 'none';
            typingArea.style.display = 'block';
            
            // កំណត់ពេលវេលាដំបូង
            totalTime = selectedTime * 60;
            timeLeft = totalTime;
            updateTimer();
            updateProgressBar();
            
            // កំណត់តម្លៃដំបូងសម្រាប់ការរាប់ពាក្យ
            correctWords = 0;
            incorrectWords = 0;
            updateWordStats();
            
            // បង្កើតបញ្ជីពាក្យថ្មី
            generateWords();
            
            // បង្ហាញពាក្យ
            displayWords();
            
            // កំណត់ការវាយ
            inputArea.value = '';
            inputArea.disabled = false;
            inputArea.focus();
            
            isTyping = true;
            startTime = new Date();
            currentWordIndex = 0;
            correctChars = 0;
            totalChars = 0;
            
            // បង្ហាញចំនួនពាក្យ
            updateWordCount();
            
            // ចាប់ផ្តើមពេលវេលារាប់ថយក្រោយ
            timer = setInterval(updateTimer, 1000);
            
            // តាមដានការវាយ
            inputArea.addEventListener('input', handleTyping);
        }

        // កំណត់តេស្តឡើងវិញ
        function resetTest() {
            clearInterval(timer);
            isTyping = false;
            inputArea.disabled = true;
            inputArea.removeEventListener('input', handleTyping);
            currentWordIndex = 0;
            correctChars = 0;
            totalChars = 0;
            correctWords = 0;
            incorrectWords = 0;
        }

        // បង្កើតពាក្យចៃដន្យ
        function generateWords() {
            const wordList = selectedTestLanguage === 'english' ? wordListsEnglish[selectedLevel] : wordListsKhmer[selectedLevel];
            words = [];
            const wordCount = selectedLevel === 'hard' ? 500 : 1000;
            
            for (let i = 0; i < wordCount; i++) {
                const randomIndex = Math.floor(Math.random() * wordList.length);
                words.push(wordList[randomIndex]);
            }
            
            // បង្ហាញចំនួនពាក្យសរុប
            totalWordsCountDisplay.textContent = words.length;
        }

        // បង្ហាញពាក្យ
        function displayWords() {
            wordsDisplay.innerHTML = '';
            words.forEach((word, index) => {
                const span = document.createElement('span');
                span.textContent = word;
                span.id = `word-${index}`;
                if (index === currentWordIndex) {
                    span.classList.add('current-word');
                }
                wordsDisplay.appendChild(span);
                wordsDisplay.appendChild(document.createTextNode(' '));
            });
        }

        // ធ្វើបច្ចុប្បន្នភាពពេលវេលា
        function updateTimer() {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            timerDisplay.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            
            if (timeLeft <= 0) {
                endTest();
            } else {
                timeLeft--;
                updateProgressBar();
            }
        }

        // ធ្វើបច្ចុប្បន្នភាពរបារវឌ្ឍនភាព
        function updateProgressBar() {
            const progress = ((totalTime - timeLeft) / totalTime) * 100;
            progressBar.style.width = `${progress}%`;
        }

        // ធ្វើបច្ចុប្បន្នភាពចំនួនពាក្យ
        function updateWordCount() {
            currentWordDisplay.textContent = currentWordIndex + 1;
        }

        // ធ្វើបច្ចុប្បន្នភាពស្ថិតិពាក្យ
        function updateWordStats() {
            correctWordsCountDisplay.textContent = correctWords;
            incorrectWordsCountDisplay.textContent = incorrectWords;
        }

        // គ្រប់គ្រងការវាយ
        function handleTyping() {
            if (!isTyping) return;
            
            const typedText = inputArea.value;
            const currentWord = words[currentWordIndex];
            
            // ពិនិត្យភាពត្រឹមត្រូវនៃពាក្យបច្ចុប្បន្ន
            let allCorrect = true;
            for (let i = 0; i < Math.max(typedText.length, currentWord.length); i++) {
                if (i < typedText.length && i < currentWord.length) {
                    if (typedText[i] === currentWord[i]) {
                        correctChars++;
                    } else {
                        allCorrect = false;
                    }
                    totalChars++;
                } else if (i < typedText.length) {
                    // ពេលវាយលើស
                    allCorrect = false;
                    totalChars++;
                }
            }
            
            // ធ្វើបច្ចុប្បន្នភាពពាក្យបច្ចុប្បន្ន
            const currentWordElement = document.getElementById(`word-${currentWordIndex}`);
            currentWordElement.innerHTML = '';
            
            for (let i = 0; i < currentWord.length; i++) {
                const charSpan = document.createElement('span');
                charSpan.textContent = currentWord[i];
                
                if (i < typedText.length) {
                    if (typedText[i] === currentWord[i]) {
                        charSpan.classList.add('char-correct');
                    } else {
                        charSpan.classList.add('char-incorrect');
                    }
                }
                
                currentWordElement.appendChild(charSpan);
            }
            
            if (typedText.endsWith(' ') || typedText === currentWord) {
                // បានវាយពាក្យបច្ចុប្បន្នរួច (ត្រឹមត្រូវឬមិនត្រឹមត្រូវ)
                currentWordElement.classList.remove('current-word');
                if (typedText.trim() === currentWord) {
                    currentWordElement.classList.add('correct');
                    correctWords++;
                } else {
                    currentWordElement.classList.add('incorrect');
                    incorrectWords++;
                }
                
                // ធ្វើបច្ចុប្បន្នភាពស្ថិតិពាក្យ
                updateWordStats();
                
                currentWordIndex++;
                inputArea.value = '';
                
                if (currentWordIndex < words.length) {
                    // បន្តទៅពាក្យបន្ទាប់
                    const nextWordElement = document.getElementById(`word-${currentWordIndex}`);
                    nextWordElement.classList.add('current-word');
                    
                    // ធ្វើបច្ចុប្បន្នភាពចំនួនពាក្យ
                    updateWordCount();
                } else {
                    // បានវាយពាក្យគ្រប់ហើយ
                    generateWords();
                    displayWords();
                    currentWordIndex = 0;
                    updateWordCount();
                }
            }
        }

        // បញ្ចប់តេស្ត
        function endTest() {
            clearInterval(timer);
            isTyping = false;
            inputArea.disabled = true;
            
            // គណនាលទ្ធផល
            const endTime = new Date();
            const timeInMinutes = (endTime - startTime) / 60000;
            const wordsTyped = currentWordIndex;
            const wpm = Math.round(wordsTyped / timeInMinutes);
            const accuracy = totalChars > 0 ? Math.round((correctChars / totalChars) * 100) : 0;
            
            // បង្ហាញលទ្ធផល
            wpmDisplay.textContent = wpm;
            accuracyDisplay.textContent = `${accuracy}%`;
            totalWordsDisplay.textContent = wordsTyped;
            correctWordsResultDisplay.textContent = correctWords;
            incorrectWordsResultDisplay.textContent = incorrectWords;
            
            typingArea.style.display = 'none';
            results.style.display = 'block';
        }

        // កំណត់តម្លៃលំនាំដើម
        document.querySelector('.level-btn[data-level="easy"]').classList.add('active');
        document.querySelector('.time-btn[data-time="1"]').classList.add('active');
        document.querySelector('.language-btn[data-test-lang="english"]').classList.add('active');
        updateLanguage();
    </script>
</body>
</html>